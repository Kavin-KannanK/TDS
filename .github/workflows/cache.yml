name: Cache Demo

on: [push]  # Runs on every push to any branch

jobs:
  demo:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'
    
    - name: prime-cache-55b60f3  # Exact name required
      uses: actions/cache@v4     # v4 or newer as specified
      with:
        key: cache-55b60f3       # Exact key required
        path: node_modules       # Cache this folder (dependencies)
    
    - name: Install dependencies
      run: npm ci  # Reinstalls if cache miss, uses cache if hit
    
    - name: Run a test
      run: npm test || echo "No tests, but cache worked!"
